{"version":3,"file":"static/js/product-description.a000da0e.chunk.js","mappings":"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","sources":["components/somethingWentWrong/index.tsx","components/placeholders/singleProductLoading.tsx","features/productDetail/components/similarProducts/index.tsx","features/productDetail/components/description/index.tsx"],"sourcesContent":["import TranslatedText from \"components/translatedText\";\nimport { WarningIconSVG } from \"assets/svgComponents/icons\";\n\nconst SomethingWentWrong = () => {\n  return (\n    <div className=\"warning\">\n      <WarningIconSVG />\n      <p>\n        <TranslatedText text=\"global.somethingWentWrong\" /> <br />\n        <TranslatedText text=\"global.failedToFetch\" />\n      </p>\n    </div>\n  );\n};\n\nexport default SomethingWentWrong;\n\nexport const NoProductFound = ({ className }: { className?: string }) => {\n  return (\n    <div className=\"no-product-found-wrapper\">\n      <div className=\"warning\" style={{ width: \"unset\" }}>\n        <WarningIconSVG />\n        <p>\n          <TranslatedText text=\"global.noProductsFound\" />\n        </p>\n      </div>\n    </div>\n  );\n};\n","import ContentLoader, { Code } from \"react-content-loader\";\n\nconst SingleProductPlaceholder = ({ type }: { type?: string }) => (\n  <ContentLoader\n    width=\"100%\"\n    height=\"100%\"\n    speed={1}\n    viewBox=\"0 0 20 20\"\n    backgroundColor=\"#ececec\"\n    foregroundColor=\"#fafafa\"\n  >\n    <rect x=\"0\" y=\"0\" rx=\"2\" ry=\"2\" width=\"100%\" height=\"100%\" />\n  </ContentLoader>\n);\n\nexport default SingleProductPlaceholder;\n","import { Image } from \"globalComponents/elements\";\nimport StarRating from \"components/starRating\";\nimport {\n  // AverageIconSVG,\n  GreenDownArrowIconSVG,\n  RedUpArrowIconSVG,\n  WarningIconSVG,\n} from \"assets/svgComponents/icons\";\nimport { useAppDispatch, useAppSelector } from \"app/hooks\";\nimport { productDetailSelector } from \"../../productSelectors\";\nimport { similarProductsSelector } from \"features/productDetail/productSelectors\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { similarProductsThunk } from \"features/productDetail/productThunks\";\nimport { toggleSimilarProductsStatus } from \"../../productSlice\";\nimport SingleProductPlaceholder from \"components/placeholders/singleProductLoading\";\nimport { useHistory } from \"react-router-dom\";\nimport TranslatedText from \"components/translatedText\";\nimport SomethingWentWrong from \"components/somethingWentWrong\";\nimport { ProductListingImageLoader } from \"components/placeholders/image\";\nimport { PLATFORM_WEBSITE } from \"app/constants\";\ninterface SimilarProductsProps {\n  countryName?: any;\n  countryCode?: any;\n  productDetailRef?: React.RefObject<HTMLDivElement>;\n}\n\nconst SimilarProducts = ({\n  countryName,\n  countryCode,\n  productDetailRef,\n}: SimilarProductsProps) => {\n  const dispatch = useAppDispatch();\n  const { productDetail } = useAppSelector(productDetailSelector);\n  const [isApicalled, setIsApicalled] = useState(false);\n  const { id, name, reviews, description } = productDetail;\n  const myRef = useRef<HTMLDivElement>(null);\n\n  const {\n    similarProducts,\n    similarProductsStatus,\n    isSimilarProductsError,\n    currentSimilarProductsPage,\n    isMoreSimilarProducts,\n    similarProductsPageTotal,\n    // viewMoreSimilarProducts\n  } = useAppSelector(similarProductsSelector);\n\n  useEffect(() => {\n    if (\n      !isApicalled &&\n      productDetailRef &&\n      productDetailRef.current &&\n      myRef &&\n      myRef.current &&\n      similarProductsStatus === \"loading\"\n    ) {\n      const loader = document.querySelector(\".product-sidebar\");\n      if (loader) {\n        const loaderStyle = getComputedStyle(loader);\n        let parentPaddingTopBottom = 0;\n        const productsidebarOter = document.querySelector(\n          \".productsidebar-oter\"\n        );\n        if (productsidebarOter) {\n          const productsidebarOterStyle = getComputedStyle(productsidebarOter);\n          parentPaddingTopBottom =\n            +productsidebarOterStyle.paddingBottom.split(\"px\")[0] +\n            +productsidebarOterStyle.paddingTop.split(\"px\")[0];\n        }\n        let loaderHeight =\n          +loaderStyle.marginBottom.split(\"px\")[0] +\n          +loaderStyle.marginTop.split(\"px\")[0] +\n          myRef?.current?.clientHeight +\n          parentPaddingTopBottom;\n\n        setIsApicalled(true);\n        dispatch(\n          similarProductsThunk({\n            body: {\n              page: currentSimilarProductsPage,\n              platform: PLATFORM_WEBSITE,\n              resultsNumber:\n                description && reviews.length === 0\n                  ? 1\n                  : Math.floor(\n                      productDetailRef?.current?.clientHeight / loaderHeight\n                    ), //We will modify this number based on height of .productdetaildetail in product detail page\n              country_name: countryName,\n              product_id: id,\n              keyword: name,\n            },\n          })\n        );\n      }\n    }\n  }, [myRef.current]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(toggleSimilarProductsStatus());\n    };\n  }, []);\n\n  return (\n    <div className=\"productsidebar-oter\">\n      <h3>\n        <TranslatedText text=\"product.similarProducts\" />\n      </h3>\n      {similarProductsStatus === \"loading\" && !isSimilarProductsError ? (\n        <>\n          <div className=\"product-sidebar\" ref={myRef}>\n            <SingleProductPlaceholder />\n          </div>\n        </>\n      ) : !isSimilarProductsError && similarProducts.length ? (\n        similarProducts.map((prod) => <ProductItem key={prod.id} item={prod} />)\n      ) : !isSimilarProductsError ? (\n        <div className=\"product-sidebar\">\n          <div className=\"warning\" style={{ width: \"unset\" }}>\n            <WarningIconSVG />\n            <p>\n              <TranslatedText text=\"global.noProductsFound\" />\n            </p>\n          </div>\n        </div>\n      ) : (\n        <>\n          <SomethingWentWrong />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SimilarProducts;\n\nexport const ProductItem = ({ item }: any) => {\n  const {\n    image_url,\n    name,\n    min_price_usd_cache,\n    max_price_usd_cache,\n    currency_symbol,\n    rating_cache,\n    reviews_count,\n    deal_type,\n    merchant_image_url,\n    merchant_name\n  } = item;\n\n  const history = useHistory();\n  const [isImageLoading, setIsImageLoading] = useState<boolean>(true);\n  const onClickHandler = (product: any, merchantId: any) => {\n    history.push({\n      pathname: `/product/${product.id}`,\n      state: {\n        title: product.name ? `BuyRadar - ${product.name}` : \"BuyRadar\",\n        merchant: merchantId,\n      },\n    });\n  };\n\n  return (\n    <a\n      className=\"product-sidebar pointer\"\n      href={`/product/${item.id}?title=${\n        item.name ? `BuyRadar - ${item.name}` : \"BuyRadar\"\n      }`}\n      // onClick={() => onClickHandler(item, null)}\n    > \n      <div className=\"review-product\">\n        <div className=\"review-productimg product-images position-relative\">\n          {isImageLoading ? <ProductListingImageLoader /> : null}\n          <Image\n            src={image_url}\n            onLoad={() => setIsImageLoading(false)}\n            onError={() => setIsImageLoading(false)}\n            className=\"img-fluid\"\n            alt=\"icon\"\n          />\n          <div className=\"client-logo\">\n            <ul>\n              <li>\n                <img src={merchant_image_url} alt=\"\"/>\n              </li>\n            </ul>  \n          </div>\n        </div>\n        <div className=\"review-productxt\">\n          <h3>{name}</h3>\n          <small>{merchant_name}</small>\n          <h4\n            className={\n              deal_type === \"good\"\n                ? \"reive-green\"\n                : deal_type === \"normal\"\n                ? \"reive-purple\"\n                : \"reive-red\"\n            }\n          >\n            {min_price_usd_cache === max_price_usd_cache\n              ? `${currency_symbol ? currency_symbol : \"$\"} ${\n                  !max_price_usd_cache ? 0 : max_price_usd_cache\n                }`\n              : `${currency_symbol ? currency_symbol : \"$\"} ${\n                  !min_price_usd_cache ? 0 : min_price_usd_cache\n                } - ${currency_symbol ? currency_symbol : \"$\"} ${\n                  !max_price_usd_cache ? 0 : max_price_usd_cache\n                }`}{\" \"}\n            {deal_type === \"good\" ? (\n              <GreenDownArrowIconSVG />\n            ) : deal_type === \"bad\" ? (\n              <RedUpArrowIconSVG />\n            ) : // :\n            // deal_type === 'normal'\n            // ? <AverageIconSVG />\n            null}\n          </h4>\n          {rating_cache > 0 && (\n            <div className=\"reviewside-ratng\">\n              <StarRating rate={rating_cache} />\n              <h4></h4>\n            </div>\n          )}\n        </div>\n      </div>\n    </a>\n  );\n};\n","// import CutomerReviews from \"../reviews\";\nimport SimilarProducts from \"../similarProducts\";\nimport { useAppSelector } from \"app/hooks\";\nimport { productDetailSelector } from \"../../productSelectors\";\nimport { useRef } from \"react\";\nimport TranslatedText from \"components/translatedText\";\nimport loadable from \"@loadable/component\";\n\nconst CutomerReviews = loadable(\n  () => import(/*webpackChunkName: \"product-review\"*/ \"../reviews\")\n);\n\nconst Description = ({ countryName }: { countryName?: string }) => {\n  const productDetailRef = useRef<HTMLDivElement>(null);\n  const { productDetail } = useAppSelector(productDetailSelector);\n  const { description } = productDetail;\n\n  return (\n    <section className=\"productdetail-sec\">\n      <div className=\"custom-container\">\n        <div className=\"productdetail-otr\">\n          <div className=\"productdetaildetail\" ref={productDetailRef}>\n            <div className=\"productdetail\">\n              <h3>\n                <TranslatedText text=\"product.productDetails\" />\n              </h3>\n              {description ? (\n                <p>{description}</p>\n              ) : (\n                <TranslatedText text=\"global.notAvailable\" />\n              )}\n            </div>\n            <CutomerReviews />\n          </div>\n          <SimilarProducts\n            productDetailRef={productDetailRef}\n            countryName={countryName}\n          />\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Description;\n"],"names":["className","text","type","width","height","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","countryName","productDetailRef","countryCode","dispatch","useAppDispatch","productDetail","useAppSelector","productDetailSelector","useState","isApicalled","setIsApicalled","id","name","reviews","description","myRef","useRef","similarProductsSelector","similarProducts","similarProductsStatus","isSimilarProductsError","currentSimilarProductsPage","isMoreSimilarProducts","similarProductsPageTotal","useEffect","current","loader","document","querySelector","loaderStyle","getComputedStyle","parentPaddingTopBottom","productsidebarOter","productsidebarOterStyle","paddingBottom","split","paddingTop","loaderHeight","marginBottom","marginTop","clientHeight","similarProductsThunk","body","page","platform","PLATFORM_WEBSITE","resultsNumber","length","Math","floor","country_name","product_id","keyword","toggleSimilarProductsStatus","map","prod","ProductItem","item","style","ref","image_url","min_price_usd_cache","max_price_usd_cache","currency_symbol","rating_cache","deal_type","reviews_count","merchant_image_url","merchant_name","useHistory","isImageLoading","setIsImageLoading","href","src","onLoad","onError","alt","rate","CutomerReviews","loadable"],"sourceRoot":""}