{"version":3,"file":"static/js/category.c210c6a9.chunk.js","mappings":"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","sources":["components/placeholders/sliderPlaceholder.tsx","components/categoriesSlider/index.tsx","components/somethingWentWrong/index.tsx","components/placeholders/categoryList.tsx","features/category/index.tsx","hooks/scollPagination.ts"],"sourcesContent":["// import ContentLoader from \"react-content-loader\";\n\n// const SliderPlaceholder = ({ type }: { type: string }) => (\n//   <ContentLoader\n//     viewBox=\"0 0 108 20\"\n//     backgroundColor=\"#ececec\"\n//     foregroundColor=\"#fafafa\"\n//     // backgroundColor=\"blue\"\n//     // foregroundColor=\"blue\"\n//     // style={{ width: \"100%\", height: \"100%\",  }}\n//     // gradientRatio={2}\n//   >\n//     <rect x=\"0\" y=\"0\" rx=\"2\" ry=\"2\" width=\"20\" height=\"20\" />\n//     <rect x=\"22\" y=\"0\" rx=\"2\" ry=\"2\" width=\"20\" height=\"20\" />\n//     <rect x=\"44\" y=\"0\" rx=\"2\" ry=\"2\" width=\"20\" height=\"20\" />\n//     <rect x=\"66\" y=\"0\" rx=\"2\" ry=\"2\" width=\"20\" height=\"20\" />\n//     <rect x=\"88\" y=\"0\" rx=\"2\" ry=\"2\" width=\"20\" height=\"20\" />\n//   </ContentLoader>\n// );\n\n// export default SliderPlaceholder;\n\nimport ContentLoader from \"react-content-loader\";\n\nconst CategorySliderListing = ({ type }: { type?: string }) => (\n  <ContentLoader\n    height={220}\n    speed={1}\n    viewBox=\"0 0 108 24\"\n    backgroundColor=\"#ececec\"\n    foregroundColor=\"#fafafa\"\n  >        \n    <rect x=\"4\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n    <rect x=\"30\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n    <rect x=\"56\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n    <rect x=\"82\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n  </ContentLoader>\n);\n\nexport default CategorySliderListing;\n\nexport const CategorySliderLoader = () => {\n  const count =\n    document.documentElement.clientWidth <= 400\n    ? 1 \n    :\n    document.documentElement.clientWidth > 400 &&\n    document.documentElement.clientWidth <= 600\n    ? 2 \n    : document.documentElement.clientWidth > 600 && \n      document.documentElement.clientWidth <= 700\n      ? 3\n      : document.documentElement.clientWidth > 700 &&\n        document.documentElement.clientWidth <= 1000\n      ? 4\n      : 5;\n  return (\n    <div className=\"d-flex h-100 w-100 my-3\">\n      {Array.from(Array(count).keys()).map((i) => (\n        <CategorySliderLoaderItem key={i} />\n      ))}\n    </div>\n  );\n};\n\nconst CategorySliderLoaderItem = () => (\n    <div className=\"mx-3\">\n      <ContentLoader\n        speed={1}\n        width=\"100%\"\n        height=\"100%\"\n        viewBox=\"0 0 20 20\"\n        backgroundColor=\"#ececec\"\n        foregroundColor=\"#fafafa\"\n      >\n        <rect x=\"0\" y=\"0\" rx=\"2\" ry=\"2\" width=\"100%\" height=\"100%\" />\n      </ContentLoader>\n    </div>\n);\n\n\n\n// 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","import { Image, HeadingH2 } from \"globalComponents/elements\";\nimport Slider from \"react-slick\";\nimport { useEffect, useState } from \"react\";\nimport { useAppSelector, useAppDispatch } from \"app/hooks\";\nimport { categoriesThunk } from \"features/category/categoryThunk\";\nimport { categoriesSelector } from \"features/category/categorySelectors\";\nimport { CategoriesInterface } from \"types\";\nimport { reArrangeCategories } from \"features/category/categorySlice\";\nimport { CategorySliderLoader } from \"components/placeholders/sliderPlaceholder\";\nimport SomethingWentWrong from \"components/somethingWentWrong\";\nimport { CategoryImageLoader } from \"components/placeholders/image\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport ViewMoreImg from \"assets/images/home/viewmore.png\";\nimport { DefaultProductImage } from \"assets/svgComponents/icons\";\n\nconst CategoriesSlider = ({\n  isHeading,\n  slides,\n  loaderClassName,\n  onClickSlideItem,\n  selectedCategory,\n}: {\n  isHeading: boolean;\n  slides: number;\n  loaderClassName: string;\n  onClickSlideItem: (id: any) => void;\n  selectedCategory?: any;\n}) => {\n  const {\n    categories,\n    categoriesStatus,\n    isCategoriesError,\n    currentCategoriesLimit,\n    currentCategoriesPage,\n    categoriesPageTotal,\n    categoriesClone,\n    categorySearch\n  } = useAppSelector(categoriesSelector);\n  const dispatch = useAppDispatch();\n  const location = useLocation<any>();\n  const history = useHistory();\n  useEffect(() => {\n    if (!categoriesClone.length) {\n      dispatch(\n        categoriesThunk({\n          body: {\n            search_keyword: \"\",\n            page: 1,\n            per_page: currentCategoriesLimit,\n          },\n        })\n      );\n    }\n  }, []);\n\n  useEffect(() => {\n    if (location && location.state && location.state.categoryId) {\n      console.log(\"selected category----\");\n      dispatch(reArrangeCategories({ categoryId: location.state.categoryId }));\n    }\n  }, [categoriesClone.length]);\n\n  const settings = {\n    dots: false,\n    infinite: !(location.pathname === \"/browse\"),\n    speed: 500,\n    slidesToScroll: 1,\n    responsive: [\n      {\n        breakpoint: 1367,\n        settings: {\n          slidesToShow: slides ? slides : 4,\n        },\n      },\n      {\n        breakpoint: 1000,\n        settings: {\n          slidesToShow: slides ? 4 : 3,\n        },\n      },\n      {\n        breakpoint: 700,\n        settings: {\n          slidesToShow: slides ? 3 : 2,\n        },\n      },\n      {\n        breakpoint: 599,\n        settings: {\n          slidesToShow: slides ? 2 : 1,\n        },\n      },\n      {\n        breakpoint: 399,\n        settings: {\n          slidesToShow: 1,\n        },\n      },\n    ],\n  };\n\n  const viewMoreCategoryHandler = () => {\n    history.push(\"/category\");\n  };\n\n  return (\n    <section className=\"shopcategories-sec\">\n      {isHeading ? <HeadingH2 heading=\"home.shobByCategories\" /> : null}\n      <div className=\"custom-container\">\n        {categoriesStatus === \"loading\" ? (\n          <div\n            className=\"categories-slider slider\"\n          >\n            <CategorySliderLoader />\n          </div>\n        ) : (\n          !isCategoriesError &&\n          categoriesClone.length && (\n            <div className=\"categories-slider slider\" id=\"browse_cat\">\n              <Slider {...settings} useTransform={false} slidesToShow={slides}>\n                {categoriesClone?.map((item: CategoriesInterface) => (\n                  <CategoryItem\n                    key={item.id}\n                    item={item}\n                    onClick={onClickSlideItem}\n                    active={selectedCategory === item.id}\n                    showImgLoader={true}\n                  />\n                ))}\n                {location.pathname === \"/browse\" &&\n                currentCategoriesPage < categoriesPageTotal ? (\n                  <div\n                    className=\"topcollection-oter\"\n                    onClick={() => viewMoreCategoryHandler()}\n                  >\n                    <div className=\"topcollection-image position-relative\">\n                      <Image src={ViewMoreImg} alt=\"view-more-categories\" />\n                    </div>\n                  </div>\n                ) : null}\n              </Slider>\n            </div>\n          )\n        )}\n        {categoriesStatus === \"failed\" && isCategoriesError && (\n          <SomethingWentWrong />\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default CategoriesSlider;\n\nexport const CategoryItem = ({\n  item,\n  onClick,\n  active,\n  showImgLoader,\n  isImgLoading,\n}: {\n  item: CategoriesInterface;\n  onClick: (id: number) => void;\n  active?: boolean;\n  showImgLoader?: boolean\n  isImgLoading?: (loading: boolean) => void\n}) => {\n  const [isImageLoading, setIsImageLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    isImgLoading && isImgLoading(isImageLoading);\n  }, [isImageLoading, isImgLoading])\n    \n  return (\n    <div className=\"topcollection-oter\" onClick={() => onClick(item.id)}>\n      <div className={`topcollection-image position-relative`}>\n        {\n          (isImageLoading) &&\n          <CategoryImageLoader showClass={true} /> \n        }\n        <Image\n          className={active ? \"category-active\" : \"\"}\n          src={item.category_image_name}\n          alt=\"buyradar_img\"\n          onLoad={() => setIsImageLoading(false)}\n          onError={() => setIsImageLoading(false)}\n        />\n      </div>\n      <div className=\"topcollection-text\">\n        <h3>{item.category_name}</h3>\n      </div>\n    </div>\n  );\n};\n","import TranslatedText from \"components/translatedText\";\nimport { WarningIconSVG } from \"assets/svgComponents/icons\";\n\nconst SomethingWentWrong = () => {\n  return (\n    <div className=\"warning\">\n      <WarningIconSVG />\n      <p>\n        <TranslatedText text=\"global.somethingWentWrong\" /> <br />\n        <TranslatedText text=\"global.failedToFetch\" />\n      </p>\n    </div>\n  );\n};\n\nexport default SomethingWentWrong;\n\nexport const NoProductFound = ({ className }: { className?: string }) => {\n  return (\n    <div className=\"no-product-found-wrapper\">\n      <div className=\"warning\" style={{ width: \"unset\" }}>\n        <WarningIconSVG />\n        <p>\n          <TranslatedText text=\"global.noProductsFound\" />\n        </p>\n      </div>\n    </div>\n  );\n};\n","import ContentLoader from \"react-content-loader\";\n\nconst CategoryListing = ({ type }: { type?: string }) => (\n  <ContentLoader\n    height={220}\n    speed={1}\n    viewBox=\"0 0 108 24\"\n    backgroundColor=\"#ececec\"\n    foregroundColor=\"#fafafa\"\n  >        \n    <rect x=\"4\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n    <rect x=\"30\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n    <rect x=\"56\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n    <rect x=\"82\" y=\"0\" rx=\"2\" ry=\"2\" width=\"24\" height=\"24\" />\n  </ContentLoader>\n);\n\nexport default CategoryListing;\n\nexport const CategoryLoader = () => {\n  const count =\n    document.documentElement.clientWidth <= 540\n    ? 2 \n    : document.documentElement.clientWidth > 540 && \n      document.documentElement.clientWidth <= 823\n      ? 3\n      : document.documentElement.clientWidth > 823 &&\n        document.documentElement.clientWidth <= 1024\n      ? 4\n      : 5;\n  return (\n    <>\n      {Array.from(Array(count).keys()).map((i) => (\n        <CategoryLoaderItem key={i} />\n      ))}\n    </>\n  );\n};\n\nconst CategoryLoaderItem = () => (\n  <div className=\"topcollection-oter\">\n    <div className=\"topcollection-image position-relative\">\n      <ContentLoader\n        speed={1}\n        width=\"100%\"\n        height=\"100%\"\n        viewBox=\"0 0 20 20\"\n        backgroundColor=\"#ececec\"\n        foregroundColor=\"#fafafa\"\n      >\n        <rect x=\"0\" y=\"0\" rx=\"2\" ry=\"2\" width=\"100%\" height=\"100%\" />\n      </ContentLoader>\n    </div>\n  </div>\n);\n","import { useAppDispatch, useAppSelector } from \"app/hooks\";\nimport { SearchIconSVG, WarningIconSVG } from \"assets/svgComponents/icons\";\nimport { CategoryItem } from \"components/categoriesSlider\";\nimport { categoriesSelector } from \"features/category/categorySelectors\";\nimport { categoriesThunk } from \"features/category/categoryThunk\";\nimport { Section, HeadingH2 } from \"globalComponents/elements\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { CategoriesInterface } from \"types\";\nimport { isElementXPercentInViewport } from \"utils/helpers\";\nimport useScrollPagination from \"hooks/scollPagination\";\nimport { initialCategoryPage, updateViewMoreCategories } from \"./categorySlice\";\nimport withCountry from \"hoc/countryName\";\nimport { useTranslation } from \"react-i18next\";\nimport { CategoryLoader } from \"components/placeholders/categoryList\";\ninterface CategoryInterface {\n  countryName: string;\n  countryCode?: string;\n}\n\nconst Category = ({ countryName, countryCode }: CategoryInterface) => {\n  const categoryRef = useRef<HTMLDivElement>(null);\n  const history = useHistory();\n  const { t } = useTranslation();\n  const {\n    categories,\n    categoriesStatus,\n    moreCategoriesStatus,\n    categoriesErrorMsg,\n    categorySearch,\n    isCategoriesError,\n    currentCategoriesPage,\n    viewMoreCategories,\n    categoriesPageTotal,\n    currentCategoriesLimit,\n  } = useAppSelector(categoriesSelector);\n  const dispatch = useAppDispatch();\n\n  const [search, setSearch] = useState(\"\");\n  const [isImageLoading, setIsImageLoading] = useState<boolean>(true);\n\n  const fetchCategories = useCallback(\n    (page: number, search: string = \"\") => {\n      console.log(\"currentCategoriesLimit=\", currentCategoriesLimit);\n      dispatch(\n        categoriesThunk({\n          body: {\n            search_keyword: search,\n            page,\n            per_page: currentCategoriesLimit,\n          },\n        })\n      );\n    },\n    [dispatch, currentCategoriesLimit]\n  );\n\n  useEffect(() => {\n    dispatch(initialCategoryPage());\n    fetchCategories(1);\n    // if (search !== \"\") {\n    //   fetchCategories(1);\n    // } else {\n    //   fetchCategories(currentCategoriesPage);\n    // }\n  }, [dispatch, fetchCategories]);\n\n  useScrollPagination({\n    products: categories,\n    status: categoriesStatus,\n    ref: categoryRef,\n    currentPage: currentCategoriesPage,\n    totalPages: categoriesPageTotal,\n    isElementXPercentInViewport,\n    viewMore: updateViewMoreCategories,\n    Thunk: categoriesThunk,\n    ThunkBody: {\n      search_keyword: search,\n      page: currentCategoriesPage + 1,\n      per_page: 10,\n    },\n    countryName: countryName,\n    isViewMoreDispatch: true,\n  });\n\n  const onSearchHandler = (value) => {\n    // e.preventDefault();\n    const checkSpace = new RegExp(/^\\s.*\\s$/); // Not allow spaces in start and end of string\n    if (!checkSpace.test(value)) {\n      fetchCategories(1, value.trim());\n    }\n  };\n\n  useEffect(() => {\n    const timeOutId = setTimeout(() => onSearchHandler(search), 575);\n    return () => clearTimeout(timeOutId);\n  }, [search]);\n\n  return (\n    <Section className=\"category-sec\">\n      <div className=\"custom-containerfluid\">\n        <HeadingH2 heading=\"home.categories\" />\n        <div className=\"text-center\">\n          <div className=\"searchbar desktop\">\n            {/* <HeaderSearchInput mode=\"desktop\" /> */}\n            {/* <form onSubmit={(e) => {}}> */}\n            <input\n              type=\"text\"\n              name=\"search\"\n              value={search}\n              className=\"form-control\"\n              placeholder={t(\"category.searchCategory\")}\n              onChange={(e) => {\n                setSearch(e.target.value);\n              }}\n            />\n            <button type=\"submit\">\n              <SearchIconSVG />\n            </button>\n            {/* </form> */}\n          </div>\n        </div>\n        <div\n          id=\"categories\"\n          className=\"tab-pane browse-tabbinginner active my-4\"\n        >\n          <div className=\"categories-outer\">\n            {categoriesStatus === \"loading\" ? (\n              <>\n                <CategoryLoader />\n                <CategoryLoader />\n              </>\n            ) : categoriesStatus === \"idle\" && categories.length > 0 ? (\n              <>\n                {categories.map((item: CategoriesInterface) => (\n                  <CategoryItem\n                    key={item.id}\n                    item={item}\n                    onClick={() => {\n                      history.push({\n                        pathname: \"/browse\",\n                        search: \"?shop-by=trending\",\n                        state: { categoryId: item.id },\n                      });\n                    }}\n                    showImgLoader={true}\n                    isImgLoading={setIsImageLoading}\n                  />\n                ))}\n              </>\n            ) : (\n              \"\"\n            )}\n            {(categoriesStatus === \"failed\" && isCategoriesError) ||\n            (categoriesStatus === \"idle\" && !categories.length) ? (\n              <div className=\"warning\">\n                <WarningIconSVG />\n                <p>\n                  {t(\"global.somethingWentWrong\")}\n                  <br />\n                  {t(\"category.failedFetchCategoriesReloadPage\")}\n                </p>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {moreCategoriesStatus === \"loading\" && !isImageLoading ? (\n              <>\n                <CategoryLoader />\n                <CategoryLoader />\n              </>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n      </div>\n      {viewMoreCategories && moreCategoriesStatus === \"loading\" ? (\n        \"\"\n      ) : (\n        <div ref={categoryRef} />\n      )}\n    </Section>\n  );\n};\n\nconst CategoryWithCountry = withCountry(Category);\nexport default CategoryWithCountry;\n","import { PLATFORM_WEBSITE } from \"app/constants\";\nimport { useAppDispatch } from \"app/hooks\";\nimport { useEffect, useState } from \"react\";\n\nvar lastScroll = 0;\nvar footerSection;\nconst scrollDetect = () => {\n  let currentScroll =\n    document.documentElement.scrollTop || document.body.scrollTop;\n  if (currentScroll > 0 && lastScroll <= currentScroll) {\n    lastScroll = currentScroll;\n    return true;\n  } else {\n    lastScroll = currentScroll;\n    return false;\n  }\n};\n\nconst useScrollPagination = (\n  {\n    products,\n    status,\n    ref,\n    currentPage,\n    totalPages,\n    isElementXPercentInViewport,\n    viewMore,\n    Thunk,\n    ThunkBody,\n    countryName,\n    isViewMoreDispatch\n  }\n) => {\n\n  const dispatch = useAppDispatch();\n  const [scrolling, setScrolling] = useState(false);\n\n  useEffect(() => {\n    document.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => {\n      document.removeEventListener(\"scroll\", handleScroll); lastScroll = 0\n    };\n  }, [scrolling]);\n\n  const handleScroll = () => {\n    setScrolling(!scrolling);\n    if (\n      products.length &&\n      status === \"idle\" &&\n      ref &&\n      ref.current &&\n      currentPage < totalPages &&\n      scrollDetect() &&\n      isElementXPercentInViewport(ref.current, 10)\n    ) {\n      if (isViewMoreDispatch) {\n        \n        dispatch(viewMore());\n        let body = ThunkBody ? ThunkBody : {\n          platform: PLATFORM_WEBSITE,\n          page: currentPage + 1,\n          country_name: countryName,\n        };\n        dispatch(\n          Thunk({ body })\n        );\n      } else {\n        Thunk()\n      }\n    }\n  };\n}\n\nexport default useScrollPagination;"],"names":["CategorySliderLoader","count","document","documentElement","clientWidth","className","Array","from","keys","map","i","CategorySliderLoaderItem","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","isHeading","slides","onClickSlideItem","loaderClassName","selectedCategory","useAppSelector","categoriesSelector","categoriesStatus","categories","isCategoriesError","currentCategoriesLimit","currentCategoriesPage","categoriesPageTotal","categoriesClone","dispatch","categorySearch","useAppDispatch","location","useLocation","history","useHistory","useEffect","length","categoriesThunk","body","search_keyword","page","per_page","state","categoryId","console","log","reArrangeCategories","settings","dots","infinite","pathname","slidesToScroll","responsive","breakpoint","slidesToShow","heading","id","useTransform","item","CategoryItem","onClick","active","showImgLoader","push","src","alt","isImgLoading","useState","isImageLoading","setIsImageLoading","C","showClass","category_image_name","onLoad","onError","category_name","text","CategoryLoader","CategoryLoaderItem","CategoryWithCountry","withCountry","countryName","categoryRef","countryCode","useRef","t","useTranslation","moreCategoriesStatus","categoriesErrorMsg","viewMoreCategories","search","setSearch","fetchCategories","useCallback","initialCategoryPage","useScrollPagination","products","status","ref","currentPage","totalPages","isElementXPercentInViewport","viewMore","updateViewMoreCategories","Thunk","ThunkBody","isViewMoreDispatch","timeOutId","setTimeout","value","RegExp","test","trim","clearTimeout","type","name","placeholder","onChange","e","target","lastScroll","scrolling","setScrolling","addEventListener","handleScroll","passive","removeEventListener","current","currentScroll","scrollTop","scrollDetect","platform","PLATFORM_WEBSITE","country_name"],"sourceRoot":""}